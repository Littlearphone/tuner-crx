import{p as r,a}from"./support.js";import{u as i}from"./option-config.js";import"./pinia.js";import"./runtime-core.esm-bundler.js";chrome.tabs.onUpdated.addListener((e,t,o)=>{console.log("update tab",e,o),r(e,t,o)});chrome.webNavigation.onCommitted.addListener(function(e){e.url!=="about:blank"&&r(e.tabId,{status:!0},e)});chrome.runtime.onMessage.addListener((e,t,o)=>e?e.type==="ajax"?(a(e,t,o),!0):o({}):o({}));function n(){setTimeout(n,5e3);const e=chrome.runtime.getManifest();fetch("/manifest.json").then(t=>t.json()).then(t=>{t.version!==e.version&&chrome.runtime.reload()})}chrome.management.getSelf(e=>{i(),e.installType==="development"&&n()});
