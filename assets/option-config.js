import{d as u}from"./pinia.js";import{r,D as p}from"./runtime-core.esm-bundler.js";const f=[{id:"block",name:"Block"},{id:"redirect",name:"Redirect"}],y=[{id:"font",name:"Font"},{id:"image",name:"Image"},{id:"script",name:"Script"},{id:"sub_frame",name:"Sub-Frame"},{id:"main_frame",name:"Main Frame"},{id:"stylesheet",name:"Stylesheet"},{id:"xmlhttprequest",name:"XML HTTP Request"}],a=[{id:1,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://ajax.loli.net/\\2"}},condition:{regexFilter:"^(http[s]?)://ajax\\.googleapis\\.com/(.*)",resourceTypes:["font","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:2,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://fonts.loli.net/\\2"}},condition:{regexFilter:"^(http[s]?)://fonts\\.googleapis\\.com/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:3,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://themes.loli.net/\\2"}},condition:{regexFilter:"^(http[s]?)://themes\\.googleusercontent\\.com/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:4,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://gstatic.loli.net/\\2"}},condition:{regexFilter:"^(http[s]?)://fonts\\.gstatic\\.com/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:5,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://www.recaptcha.net/recaptcha/\\2"}},condition:{regexFilter:"^(http[s]?)://www\\.google\\.com/recaptcha/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:6,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://gravatar.loli.net/\\3"}},condition:{regexFilter:"^(http[s]?)://(secure|www)\\.gravatar\\.com/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:7,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://cdn.staticfile.org/twitter-bootstrap/\\2"}},condition:{regexFilter:"^(http[s]?)://maxcdn\\.bootstrapcdn\\.com/bootstrap/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:8,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://cdn.staticfile.org/\\2"}},condition:{regexFilter:"^(http[s]?)://maxcdn\\.bootstrapcdn\\.com/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}},{id:9,priority:1,action:{type:"redirect",redirect:{regexSubstitution:"\\1://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/\\2"}},condition:{regexFilter:"^(http[s]?)://cdn\\.rawgit\\.com/google/code-prettify/master/loader/(.*)",resourceTypes:["font","image","script","stylesheet","sub_frame","main_frame","xmlhttprequest"]}}];async function n(){const e=chrome.declarativeNetRequest;return!e||typeof e.getDynamicRules!="function"?location.hostname==="localhost"?a:[]:await e.getDynamicRules()}async function l(e){const t=chrome.declarativeNetRequest;!t||typeof t.getDynamicRules!="function"||await t.updateDynamicRules(e)}const h=u("option-config",()=>{const e=r(!1),t=r({}),o=r(-1),s=r([]);p(async()=>{const i=await n();(!i||!i.length)&&(console.log("set default dynamic rules"),await l({addRules:a})),s.value=await n()});function c(i){o.value=i.id,e.value=!0;const m=JSON.parse(JSON.stringify(i));t.value=Object.assign({condition:{},action:{}},m)}return{optionFormId:o,optionFormData:t,optionFormVisible:e,dynamicRules:s,showOptionForm:c}});export{y as D,f as a,h as u};
