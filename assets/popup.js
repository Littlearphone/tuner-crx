var Pn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{ab as ye,ac as Q,ad as ie,ae as qe,af as At,ag as ee,ah as ve,ai as jn,i as ge,aj as Ge,ak as Se,al as Cn,am as le,an as tt,h as ce,D as C,j as M,u as re,l as I,b as On,ao as nt,m as b,A as O,v as w,x as s,s as G,y as X,J as D,V as se,L as j,n as F,p as A,K as Ft,O as It,N as L,Y as En,r as he,F as Lt,a7 as Ut,R as Rt,S as oe,B as R,ap as kn,aq as An,k as Dt,ar as ke,M as Fn,as as In,f as Ae,a3 as Ln,c as Un,G as Rn,t as Dn,a4 as rt,P as ot,at as Mt,au as Z,H as Mn,d as Te,av as xt,aw as xn,ax as Bn,g as Nn,E as Vn,a0 as qn,ay as Gn,o as Hn,az as Kn,a6 as Wn,aa as zn}from"./__uno.js";import{w as Jn,q as Bt,v as Xn,x as Nt,y as Vt,E as z,_ as me,t as He,z as qt,m as Fe,A as je,B as Yn,D as Zn,G as Qn,H as er,I as tr,n as nr,p as Gt,J as rr,o as or}from"./icon.js";import{D as Ht,s as sr,g as ar,A as ir,H as lr}from"./support.js";var xi=Pn((x,B)=>{function Kt(e){return e}var cr=ye(Q,"WeakMap");const Ie=cr;var st=Object.create,ur=function(){function e(){}return function(t){if(!ie(t))return{};if(st)return st(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const fr=ur;function dr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Wt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var pr=800,gr=16,yr=Date.now;function vr(e){var t=0,n=0;return function(){var r=yr(),o=gr-(r-n);if(n=r,o>0){if(++t>=pr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function hr(e){return function(){return e}}var mr=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Pe=mr;var br=Pe?function(e,t){return Pe(e,"toString",{configurable:!0,enumerable:!1,value:hr(t),writable:!0})}:Kt;const _r=br;var $r=vr(_r);const wr=$r;function Sr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Tr=9007199254740991,Pr=/^(?:0|[1-9]\d*)$/;function zt(e,t){var n=typeof e;return t=t??Tr,!!t&&(n=="number"||n!="symbol"&&Pr.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t,n){t=="__proto__"&&Pe?Pe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var jr=Object.prototype,Cr=jr.hasOwnProperty;function Jt(e,t,n){var r=e[t];(!(Cr.call(e,t)&&qe(r,n))||n===void 0&&!(t in e))&&Ke(e,t,n)}function be(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),o?Ke(n,l,d):Jt(n,l,d)}return n}var at=Math.max;function Or(e,t,n){return t=at(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=at(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),dr(e,this,l)}}function Er(e,t){return wr(Or(e,t,Kt),e+"")}var kr=9007199254740991;function Xt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kr}function Ce(e){return e!=null&&Xt(e.length)&&!At(e)}function Ar(e,t,n){if(!ie(n))return!1;var r=typeof t;return(r=="number"?Ce(n)&&zt(t,n.length):r=="string"&&t in n)?qe(n[t],e):!1}function Fr(e){return Er(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&Ar(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}var Ir=Object.prototype;function We(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ir;return e===n}function Lr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Ur="[object Arguments]";function it(e){return ee(e)&&ve(e)==Ur}var Yt=Object.prototype,Rr=Yt.hasOwnProperty,Dr=Yt.propertyIsEnumerable,Mr=it(function(){return arguments}())?it:function(e){return ee(e)&&Rr.call(e,"callee")&&!Dr.call(e,"callee")};const Le=Mr;function xr(){return!1}var Zt=typeof x=="object"&&x&&!x.nodeType&&x,lt=Zt&&typeof B=="object"&&B&&!B.nodeType&&B,Br=lt&&lt.exports===Zt,ct=Br?Q.Buffer:void 0,Nr=ct?ct.isBuffer:void 0,Vr=Nr||xr;const ze=Vr;var qr="[object Arguments]",Gr="[object Array]",Hr="[object Boolean]",Kr="[object Date]",Wr="[object Error]",zr="[object Function]",Jr="[object Map]",Xr="[object Number]",Yr="[object Object]",Zr="[object RegExp]",Qr="[object Set]",eo="[object String]",to="[object WeakMap]",no="[object ArrayBuffer]",ro="[object DataView]",oo="[object Float32Array]",so="[object Float64Array]",ao="[object Int8Array]",io="[object Int16Array]",lo="[object Int32Array]",co="[object Uint8Array]",uo="[object Uint8ClampedArray]",fo="[object Uint16Array]",po="[object Uint32Array]",P={};P[oo]=P[so]=P[ao]=P[io]=P[lo]=P[co]=P[uo]=P[fo]=P[po]=!0;P[qr]=P[Gr]=P[no]=P[Hr]=P[ro]=P[Kr]=P[Wr]=P[zr]=P[Jr]=P[Xr]=P[Yr]=P[Zr]=P[Qr]=P[eo]=P[to]=!1;function go(e){return ee(e)&&Xt(e.length)&&!!P[ve(e)]}function Je(e){return function(t){return e(t)}}var Qt=typeof x=="object"&&x&&!x.nodeType&&x,de=Qt&&typeof B=="object"&&B&&!B.nodeType&&B,yo=de&&de.exports===Qt,Ee=yo&&jn.process,vo=function(){try{var e=de&&de.require&&de.require("util").types;return e||Ee&&Ee.binding&&Ee.binding("util")}catch{}}();const ae=vo;var ut=ae&&ae.isTypedArray,ho=ut?Je(ut):go;const en=ho;var mo=Object.prototype,bo=mo.hasOwnProperty;function tn(e,t){var n=ge(e),r=!n&&Le(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&en(e),a=n||r||o||i,l=a?Lr(e.length,String):[],d=l.length;for(var f in e)(t||bo.call(e,f))&&!(a&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||zt(f,d)))&&l.push(f);return l}function nn(e,t){return function(n){return e(t(n))}}var _o=nn(Object.keys,Object);const $o=_o;var wo=Object.prototype,So=wo.hasOwnProperty;function To(e){if(!We(e))return $o(e);var t=[];for(var n in Object(e))So.call(e,n)&&n!="constructor"&&t.push(n);return t}function Xe(e){return Ce(e)?tn(e):To(e)}function Po(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var jo=Object.prototype,Co=jo.hasOwnProperty;function Oo(e){if(!ie(e))return Po(e);var t=We(e),n=[];for(var r in e)r=="constructor"&&(t||!Co.call(e,r))||n.push(r);return n}function _e(e){return Ce(e)?tn(e,!0):Oo(e)}function rn(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Eo=nn(Object.getPrototypeOf,Object);const Ye=Eo;var ko="[object Object]",Ao=Function.prototype,Fo=Object.prototype,on=Ao.toString,Io=Fo.hasOwnProperty,Lo=on.call(Object);function Uo(e){if(!ee(e)||ve(e)!=ko)return!1;var t=Ye(e);if(t===null)return!0;var n=Io.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&on.call(n)==Lo}function Ro(){this.__data__=new Ge,this.size=0}function Do(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Mo(e){return this.__data__.get(e)}function xo(e){return this.__data__.has(e)}var Bo=200;function No(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!Se||r.length<Bo-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cn(r)}return n.set(e,t),this.size=n.size,this}function te(e){var t=this.__data__=new Ge(e);this.size=t.size}te.prototype.clear=Ro;te.prototype.delete=Do;te.prototype.get=Mo;te.prototype.has=xo;te.prototype.set=No;function Vo(e,t){return e&&be(t,Xe(t),e)}function qo(e,t){return e&&be(t,_e(t),e)}var sn=typeof x=="object"&&x&&!x.nodeType&&x,ft=sn&&typeof B=="object"&&B&&!B.nodeType&&B,Go=ft&&ft.exports===sn,dt=Go?Q.Buffer:void 0,pt=dt?dt.allocUnsafe:void 0;function an(e,t){if(t)return e.slice();var n=e.length,r=pt?pt(n):new e.constructor(n);return e.copy(r),r}function Ho(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function ln(){return[]}var Ko=Object.prototype,Wo=Ko.propertyIsEnumerable,gt=Object.getOwnPropertySymbols,zo=gt?function(e){return e==null?[]:(e=Object(e),Ho(gt(e),function(t){return Wo.call(e,t)}))}:ln;const Ze=zo;function Jo(e,t){return be(e,Ze(e),t)}var Xo=Object.getOwnPropertySymbols,Yo=Xo?function(e){for(var t=[];e;)rn(t,Ze(e)),e=Ye(e);return t}:ln;const cn=Yo;function Zo(e,t){return be(e,cn(e),t)}function un(e,t,n){var r=t(e);return ge(e)?r:rn(r,n(e))}function Qo(e){return un(e,Xe,Ze)}function es(e){return un(e,_e,cn)}var ts=ye(Q,"DataView");const Ue=ts;var ns=ye(Q,"Promise");const Re=ns;var rs=ye(Q,"Set");const De=rs;var yt="[object Map]",os="[object Object]",vt="[object Promise]",ht="[object Set]",mt="[object WeakMap]",bt="[object DataView]",ss=le(Ue),as=le(Se),is=le(Re),ls=le(De),cs=le(Ie),Y=ve;(Ue&&Y(new Ue(new ArrayBuffer(1)))!=bt||Se&&Y(new Se)!=yt||Re&&Y(Re.resolve())!=vt||De&&Y(new De)!=ht||Ie&&Y(new Ie)!=mt)&&(Y=function(e){var t=ve(e),n=t==os?e.constructor:void 0,r=n?le(n):"";if(r)switch(r){case ss:return bt;case as:return yt;case is:return vt;case ls:return ht;case cs:return mt}return t});const Qe=Y;var us=Object.prototype,fs=us.hasOwnProperty;function ds(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&fs.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ps=Q.Uint8Array;const _t=ps;function et(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function gs(e,t){var n=t?et(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ys=/\w*$/;function vs(e){var t=new e.constructor(e.source,ys.exec(e));return t.lastIndex=e.lastIndex,t}var $t=tt?tt.prototype:void 0,wt=$t?$t.valueOf:void 0;function hs(e){return wt?Object(wt.call(e)):{}}function fn(e,t){var n=t?et(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var ms="[object Boolean]",bs="[object Date]",_s="[object Map]",$s="[object Number]",ws="[object RegExp]",Ss="[object Set]",Ts="[object String]",Ps="[object Symbol]",js="[object ArrayBuffer]",Cs="[object DataView]",Os="[object Float32Array]",Es="[object Float64Array]",ks="[object Int8Array]",As="[object Int16Array]",Fs="[object Int32Array]",Is="[object Uint8Array]",Ls="[object Uint8ClampedArray]",Us="[object Uint16Array]",Rs="[object Uint32Array]";function Ds(e,t,n){var r=e.constructor;switch(t){case js:return et(e);case ms:case bs:return new r(+e);case Cs:return gs(e,n);case Os:case Es:case ks:case As:case Fs:case Is:case Ls:case Us:case Rs:return fn(e,n);case _s:return new r;case $s:case Ts:return new r(e);case ws:return vs(e);case Ss:return new r;case Ps:return hs(e)}}function dn(e){return typeof e.constructor=="function"&&!We(e)?fr(Ye(e)):{}}var Ms="[object Map]";function xs(e){return ee(e)&&Qe(e)==Ms}var St=ae&&ae.isMap,Bs=St?Je(St):xs;const Ns=Bs;var Vs="[object Set]";function qs(e){return ee(e)&&Qe(e)==Vs}var Tt=ae&&ae.isSet,Gs=Tt?Je(Tt):qs;const Hs=Gs;var Ks=1,Ws=2,zs=4,pn="[object Arguments]",Js="[object Array]",Xs="[object Boolean]",Ys="[object Date]",Zs="[object Error]",gn="[object Function]",Qs="[object GeneratorFunction]",ea="[object Map]",ta="[object Number]",yn="[object Object]",na="[object RegExp]",ra="[object Set]",oa="[object String]",sa="[object Symbol]",aa="[object WeakMap]",ia="[object ArrayBuffer]",la="[object DataView]",ca="[object Float32Array]",ua="[object Float64Array]",fa="[object Int8Array]",da="[object Int16Array]",pa="[object Int32Array]",ga="[object Uint8Array]",ya="[object Uint8ClampedArray]",va="[object Uint16Array]",ha="[object Uint32Array]",T={};T[pn]=T[Js]=T[ia]=T[la]=T[Xs]=T[Ys]=T[ca]=T[ua]=T[fa]=T[da]=T[pa]=T[ea]=T[ta]=T[yn]=T[na]=T[ra]=T[oa]=T[sa]=T[ga]=T[ya]=T[va]=T[ha]=!0;T[Zs]=T[gn]=T[aa]=!1;function we(e,t,n,r,o,i){var a,l=t&Ks,d=t&Ws,f=t&zs;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!ie(e))return e;var y=ge(e);if(y){if(a=ds(e),!l)return Wt(e,a)}else{var h=Qe(e),u=h==gn||h==Qs;if(ze(e))return an(e,l);if(h==yn||h==pn||u&&!o){if(a=d||u?{}:dn(e),!l)return d?Zo(e,qo(a,e)):Jo(e,Vo(a,e))}else{if(!T[h])return o?e:{};a=Ds(e,h,l)}}i||(i=new te);var p=i.get(e);if(p)return p;i.set(e,a),Hs(e)?e.forEach(function(_){a.add(we(_,t,n,_,e,i))}):Ns(e)&&e.forEach(function(_,g){a.set(g,we(_,t,n,g,e,i))});var c=f?d?es:Qo:d?_e:Xe,m=y?void 0:c(e);return Sr(m||e,function(_,g){m&&(g=_,_=e[g]),Jt(a,g,we(_,t,n,g,e,i))}),a}var ma=1,ba=4;function _a(e){return we(e,ma|ba)}function $a(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var d=a[e?l:++o];if(n(i[d],d,i)===!1)break}return t}}var wa=$a();const Sa=wa;function Me(e,t,n){(n!==void 0&&!qe(e[t],n)||n===void 0&&!(t in e))&&Ke(e,t,n)}function Ta(e){return ee(e)&&Ce(e)}function xe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Pa(e){return be(e,_e(e))}function ja(e,t,n,r,o,i,a){var l=xe(e,n),d=xe(t,n),f=a.get(d);if(f){Me(e,n,f);return}var y=i?i(l,d,n+"",e,t,a):void 0,h=y===void 0;if(h){var u=ge(d),p=!u&&ze(d),c=!u&&!p&&en(d);y=d,u||p||c?ge(l)?y=l:Ta(l)?y=Wt(l):p?(h=!1,y=an(d,!0)):c?(h=!1,y=fn(d,!0)):y=[]:Uo(d)||Le(d)?(y=l,Le(l)?y=Pa(l):(!ie(l)||At(l))&&(y=dn(d))):h=!1}h&&(a.set(d,y),o(y,d,r,i,a),a.delete(d)),Me(e,n,y)}function vn(e,t,n,r,o){e!==t&&Sa(t,function(i,a){if(o||(o=new te),ie(i))ja(e,t,a,n,vn,r,o);else{var l=r?r(xe(e,a),i,a+"",e,t,o):void 0;l===void 0&&(l=i),Me(e,a,l)}},_e)}var Ca=Fr(function(e,t,n){vn(e,t,n)});const Oa=Ca,Ea=ce({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:C(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:C([String,Array,Function]),default:""},format:{type:C(Function),default:e=>`${e}%`}}),ka=["aria-valuenow"],Aa={viewBox:"0 0 100 100"},Fa=["d","stroke","stroke-width"],Ia=["d","stroke","opacity","stroke-linecap","stroke-width"],La={key:0},Ua=M({name:"ElProgress"}),Ra=M({...Ua,props:Ea,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=re("progress"),o=I(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:N(t.percentage)})),i=I(()=>(t.strokeWidth/t.width*100).toFixed(1)),a=I(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),l=I(()=>{const v=a.value,U=t.type==="dashboard";return`
          M 50 50
          m 0 ${U?"":"-"}${v}
          a ${v} ${v} 0 1 1 0 ${U?"-":""}${v*2}
          a ${v} ${v} 0 1 1 0 ${U?"":"-"}${v*2}
          `}),d=I(()=>2*Math.PI*a.value),f=I(()=>t.type==="dashboard"?.75:1),y=I(()=>`${-1*d.value*(1-f.value)/2}px`),h=I(()=>({strokeDasharray:`${d.value*f.value}px, ${d.value}px`,strokeDashoffset:y.value})),u=I(()=>({strokeDasharray:`${d.value*f.value*(t.percentage/100)}px, ${d.value}px`,strokeDashoffset:y.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),p=I(()=>{let v;return t.color?v=N(t.percentage):v=n[t.status]||n.default,v}),c=I(()=>t.status==="warning"?Jn:t.type==="line"?t.status==="success"?Bt:Xn:t.status==="success"?Nt:Vt),m=I(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),_=I(()=>t.format(t.percentage));function g(v){const U=100/v.length;return v.map((k,$)=>nt(k)?{color:k,percentage:($+1)*U}:k).sort((k,$)=>k.percentage-$.percentage)}const N=v=>{var U;const{color:E}=t;if(On(E))return E(v);if(nt(E))return E;{const k=g(E);for(const $ of k)if($.percentage>v)return $.color;return(U=k[k.length-1])==null?void 0:U.color}};return(v,U)=>(b(),O("div",{class:w([s(r).b(),s(r).m(v.type),s(r).is(v.status),{[s(r).m("without-text")]:!v.showText,[s(r).m("text-inside")]:v.textInside}]),role:"progressbar","aria-valuenow":v.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[v.type==="line"?(b(),O("div",{key:0,class:w(s(r).b("bar"))},[G("div",{class:w(s(r).be("bar","outer")),style:X({height:`${v.strokeWidth}px`})},[G("div",{class:w([s(r).be("bar","inner"),{[s(r).bem("bar","inner","indeterminate")]:v.indeterminate}]),style:X(s(o))},[(v.showText||v.$slots.default)&&v.textInside?(b(),O("div",{key:0,class:w(s(r).be("bar","innerText"))},[D(v.$slots,"default",{percentage:v.percentage},()=>[G("span",null,se(s(_)),1)])],2)):j("v-if",!0)],6)],6)],2)):(b(),O("div",{key:1,class:w(s(r).b("circle")),style:X({height:`${v.width}px`,width:`${v.width}px`})},[(b(),O("svg",Aa,[G("path",{class:w(s(r).be("circle","track")),d:s(l),stroke:`var(${s(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":s(i),fill:"none",style:X(s(h))},null,14,Fa),G("path",{class:w(s(r).be("circle","path")),d:s(l),stroke:s(p),fill:"none",opacity:v.percentage?1:0,"stroke-linecap":v.strokeLinecap,"stroke-width":s(i),style:X(s(u))},null,14,Ia)]))],6)),(v.showText||v.$slots.default)&&!v.textInside?(b(),O("div",{key:2,class:w(s(r).e("text")),style:X({fontSize:`${s(m)}px`})},[D(v.$slots,"default",{percentage:v.percentage},()=>[v.status?(b(),F(s(z),{key:1},{default:A(()=>[(b(),F(Ft(s(c))))]),_:1})):(b(),O("span",La,se(s(_)),1))])],6)):j("v-if",!0)],10,ka))}});var Da=me(Ra,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Ma=It(Da),hn=Symbol("uploadContextKey"),xa="ElUpload";class Ba extends Error{constructor(t,n,r,o){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=o}}function Pt(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new Ba(r,n.status,t.method,e)}function Na(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Va=e=>{typeof XMLHttpRequest>"u"&&He(xa,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const a=i;a.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(a)});const r=new FormData;if(e.data)for(const[i,a]of Object.entries(e.data))Array.isArray(a)?r.append(i,...a):r.append(i,a);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(Pt(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(Pt(n,e,t));e.onSuccess(Na(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach((i,a)=>t.setRequestHeader(a,i));else for(const[i,a]of Object.entries(o))qt(a)||t.setRequestHeader(i,String(a));return t.send(r),t},mn=["text","picture","picture-card"];let qa=1;const Be=()=>Date.now()+qa++,bn=ce({action:{type:String,default:"#"},headers:{type:C(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Fe({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:C(Array),default:()=>Fe([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:mn,default:"text"},httpRequest:{type:C(Function),default:Va},disabled:Boolean,limit:Number}),Ga=ce({...bn,beforeUpload:{type:C(Function),default:L},beforeRemove:{type:C(Function)},onRemove:{type:C(Function),default:L},onChange:{type:C(Function),default:L},onPreview:{type:C(Function),default:L},onSuccess:{type:C(Function),default:L},onProgress:{type:C(Function),default:L},onError:{type:C(Function),default:L},onExceed:{type:C(Function),default:L}}),Ha=ce({files:{type:C(Array),default:()=>Fe([])},disabled:{type:Boolean,default:!1},handlePreview:{type:C(Function),default:L},listType:{type:String,values:mn,default:"text"}}),Ka={remove:e=>!!e},Wa=["onKeydown"],za=["src"],Ja=["onClick"],Xa=["onClick"],Ya=["onClick"],Za=M({name:"ElUploadList"}),Qa=M({...Za,props:Ha,emits:Ka,setup(e,{emit:t}){const{t:n}=En(),r=re("upload"),o=re("icon"),i=re("list"),a=je(),l=he(!1),d=f=>{t("remove",f)};return(f,y)=>(b(),F(kn,{tag:"ul",class:w([s(r).b("list"),s(r).bm("list",f.listType),s(r).is("disabled",s(a))]),name:s(i).b()},{default:A(()=>[(b(!0),O(Lt,null,Ut(f.files,h=>(b(),O("li",{key:h.uid||h.name,class:w([s(r).be("list","item"),s(r).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Rt(u=>!s(a)&&d(h),["delete"]),onFocus:y[0]||(y[0]=u=>l.value=!0),onBlur:y[1]||(y[1]=u=>l.value=!1),onClick:y[2]||(y[2]=u=>l.value=!1)},[D(f.$slots,"default",{file:h},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(b(),O("img",{key:0,class:w(s(r).be("list","item-thumbnail")),src:h.url,alt:""},null,10,za)):j("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(b(),O("div",{key:1,class:w(s(r).be("list","item-info"))},[G("a",{class:w(s(r).be("list","item-name")),onClick:oe(u=>f.handlePreview(h),["prevent"])},[R(s(z),{class:w(s(o).m("document"))},{default:A(()=>[R(s(Yn))]),_:1},8,["class"]),G("span",{class:w(s(r).be("list","item-file-name"))},se(h.name),3)],10,Ja),h.status==="uploading"?(b(),F(s(Ma),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:X(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):j("v-if",!0)],2)):j("v-if",!0),G("label",{class:w(s(r).be("list","item-status-label"))},[f.listType==="text"?(b(),F(s(z),{key:0,class:w([s(o).m("upload-success"),s(o).m("circle-check")])},{default:A(()=>[R(s(Bt))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(b(),F(s(z),{key:1,class:w([s(o).m("upload-success"),s(o).m("check")])},{default:A(()=>[R(s(Nt))]),_:1},8,["class"])):j("v-if",!0)],2),s(a)?j("v-if",!0):(b(),F(s(z),{key:2,class:w(s(o).m("close")),onClick:u=>d(h)},{default:A(()=>[R(s(Vt))]),_:2},1032,["class","onClick"])),j(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),j(" This is a bug which needs to be fixed "),j(" TODO: Fix the incorrect navigation interaction "),s(a)?j("v-if",!0):(b(),O("i",{key:3,class:w(s(o).m("close-tip"))},se(s(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(b(),O("span",{key:4,class:w(s(r).be("list","item-actions"))},[G("span",{class:w(s(r).be("list","item-preview")),onClick:u=>f.handlePreview(h)},[R(s(z),{class:w(s(o).m("zoom-in"))},{default:A(()=>[R(s(Zn))]),_:1},8,["class"])],10,Xa),s(a)?j("v-if",!0):(b(),O("span",{key:0,class:w(s(r).be("list","item-delete")),onClick:u=>d(h)},[R(s(z),{class:w(s(o).m("delete"))},{default:A(()=>[R(s(Qn))]),_:1},8,["class"])],10,Ya))],2)):j("v-if",!0)])],42,Wa))),128)),D(f.$slots,"append")]),_:3},8,["class","name"]))}});var jt=me(Qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const ei=ce({disabled:{type:Boolean,default:!1}}),ti={file:e=>An(e)},ni=["onDrop","onDragover"],_n="ElUploadDrag",ri=M({name:_n}),oi=M({...ri,props:ei,emits:ti,setup(e,{emit:t}){const n=Dt(hn);n||He(_n,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=re("upload"),o=he(!1),i=je(),a=d=>{if(i.value)return;o.value=!1,d.stopPropagation();const f=Array.from(d.dataTransfer.files),y=n.accept.value;if(!y){t("file",f);return}const h=f.filter(u=>{const{type:p,name:c}=u,m=c.includes(".")?`.${c.split(".").pop()}`:"",_=p.replace(/\/.*$/,"");return y.split(",").map(g=>g.trim()).filter(g=>g).some(g=>g.startsWith(".")?m===g:/\/\*$/.test(g)?_===g.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(g)?p===g:!1)});t("file",h)},l=()=>{i.value||(o.value=!0)};return(d,f)=>(b(),O("div",{class:w([s(r).b("dragger"),s(r).is("dragover",o.value)]),onDrop:oe(a,["prevent"]),onDragover:oe(l,["prevent"]),onDragleave:f[0]||(f[0]=oe(y=>o.value=!1,["prevent"]))},[D(d.$slots,"default")],42,ni))}});var si=me(oi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const ai=ce({...bn,beforeUpload:{type:C(Function),default:L},onRemove:{type:C(Function),default:L},onStart:{type:C(Function),default:L},onSuccess:{type:C(Function),default:L},onProgress:{type:C(Function),default:L},onError:{type:C(Function),default:L},onExceed:{type:C(Function),default:L}}),ii=["onKeydown"],li=["name","multiple","accept"],ci=M({name:"ElUploadContent",inheritAttrs:!1}),ui=M({...ci,props:ai,setup(e,{expose:t}){const n=e,r=re("upload"),o=je(),i=ke({}),a=ke(),l=c=>{if(c.length===0)return;const{autoUpload:m,limit:_,fileList:g,multiple:N,onStart:v,onExceed:U}=n;if(_&&g.length+c.length>_){U(c,g);return}N||(c=c.slice(0,1));for(const E of c){const k=E;k.uid=Be(),v(k),m&&d(k)}},d=async c=>{if(a.value.value="",!n.beforeUpload)return f(c);let m,_={};try{const N=n.beforeUpload(c);_=Fn(n.data)?_a(n.data):n.data,m=await N}catch{m=!1}if(m===!1){n.onRemove(c);return}let g=c;m instanceof Blob&&(m instanceof File?g=m:g=new File([m],c.name,{type:c.type})),f(Object.assign(g,{uid:c.uid}),_)},f=(c,m)=>{const{headers:_,data:g,method:N,withCredentials:v,name:U,action:E,onProgress:k,onSuccess:$,onError:S,httpRequest:V}=n,{uid:H}=c,K={headers:_||{},withCredentials:v,file:c,data:m??g,method:N,filename:U,action:E,onProgress:J=>{k(J,c)},onSuccess:J=>{$(J,c),delete i.value[H]},onError:J=>{S(J,c),delete i.value[H]}},ue=V(K);i.value[H]=ue,ue instanceof Promise&&ue.then(K.onSuccess,K.onError)},y=c=>{const m=c.target.files;m&&l(Array.from(m))},h=()=>{o.value||(a.value.value="",a.value.click())},u=()=>{h()};return t({abort:c=>{In(i.value).filter(c?([_])=>String(c.uid)===_:()=>!0).forEach(([_,g])=>{g instanceof XMLHttpRequest&&g.abort(),delete i.value[_]})},upload:d}),(c,m)=>(b(),O("div",{class:w([s(r).b(),s(r).m(c.listType),s(r).is("drag",c.drag)]),tabindex:"0",onClick:h,onKeydown:Rt(oe(u,["self"]),["enter","space"])},[c.drag?(b(),F(si,{key:0,disabled:s(o),onFile:l},{default:A(()=>[D(c.$slots,"default")]),_:3},8,["disabled"])):D(c.$slots,"default",{key:1}),G("input",{ref_key:"inputRef",ref:a,class:w(s(r).e("input")),name:c.name,multiple:c.multiple,accept:c.accept,type:"file",onChange:y,onClick:m[0]||(m[0]=oe(()=>{},["stop"]))},null,42,li)],42,ii))}});var Ct=me(ui,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Ot="ElUpload",fi=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},di=(e,t)=>{const n=er(e,"fileList",void 0,{passive:!0}),r=u=>n.value.find(p=>p.uid===u.uid);function o(u){var p;(p=t.value)==null||p.abort(u)}function i(u=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!u.includes(p.status))}const a=(u,p)=>{const c=r(p);c&&(console.error(u),c.status="fail",n.value.splice(n.value.indexOf(c),1),e.onError(u,c,n.value),e.onChange(c,n.value))},l=(u,p)=>{const c=r(p);c&&(e.onProgress(u,c,n.value),c.status="uploading",c.percentage=Math.round(u.percent))},d=(u,p)=>{const c=r(p);c&&(c.status="success",c.response=u,e.onSuccess(u,c,n.value),e.onChange(c,n.value))},f=u=>{qt(u.uid)&&(u.uid=Be());const p={name:u.name,percentage:0,status:"ready",size:u.size,raw:u,uid:u.uid};if(e.listType==="picture-card"||e.listType==="picture")try{p.url=URL.createObjectURL(u)}catch(c){tr(Ot,c.message),e.onError(c,p,n.value)}n.value=[...n.value,p],e.onChange(p,n.value)},y=async u=>{const p=u instanceof File?r(u):u;p||He(Ot,"file to be removed not found");const c=m=>{o(m);const _=n.value;_.splice(_.indexOf(m),1),e.onRemove(m,_),fi(m)};e.beforeRemove?await e.beforeRemove(p,n.value)!==!1&&c(p):c(p)};function h(){n.value.filter(({status:u})=>u==="ready").forEach(({raw:u})=>{var p;return u&&((p=t.value)==null?void 0:p.upload(u))})}return Ae(()=>e.listType,u=>{u!=="picture-card"&&u!=="picture"||(n.value=n.value.map(p=>{const{raw:c,url:m}=p;if(!m&&c)try{p.url=URL.createObjectURL(c)}catch(_){e.onError(_,p,n.value)}return p}))}),Ae(n,u=>{for(const p of u)p.uid||(p.uid=Be()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:o,clearFiles:i,handleError:a,handleProgress:l,handleStart:f,handleSuccess:d,handleRemove:y,submit:h}},pi=M({name:"ElUpload"}),gi=M({...pi,props:Ga,setup(e,{expose:t}){const n=e,r=Ln(),o=je(),i=ke(),{abort:a,submit:l,clearFiles:d,uploadFiles:f,handleStart:y,handleError:h,handleRemove:u,handleSuccess:p,handleProgress:c}=di(n,i),m=I(()=>n.listType==="picture-card"),_=I(()=>({...n,fileList:f.value,onStart:y,onProgress:c,onSuccess:p,onError:h,onRemove:u}));return Un(()=>{f.value.forEach(({url:g})=>{g!=null&&g.startsWith("blob:")&&URL.revokeObjectURL(g)})}),Rn(hn,{accept:Dn(n,"accept")}),t({abort:a,submit:l,clearFiles:d,handleStart:y,handleRemove:u}),(g,N)=>(b(),O("div",null,[s(m)&&g.showFileList?(b(),F(jt,{key:0,disabled:s(o),"list-type":g.listType,files:s(f),"handle-preview":g.onPreview,onRemove:s(u)},rt({append:A(()=>[R(Ct,ot({ref_key:"uploadRef",ref:i},s(_)),{default:A(()=>[s(r).trigger?D(g.$slots,"trigger",{key:0}):j("v-if",!0),!s(r).trigger&&s(r).default?D(g.$slots,"default",{key:1}):j("v-if",!0)]),_:3},16)]),_:2},[g.$slots.file?{name:"default",fn:A(({file:v})=>[D(g.$slots,"file",{file:v})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):j("v-if",!0),!s(m)||s(m)&&!g.showFileList?(b(),F(Ct,ot({key:1,ref_key:"uploadRef",ref:i},s(_)),{default:A(()=>[s(r).trigger?D(g.$slots,"trigger",{key:0}):j("v-if",!0),!s(r).trigger&&s(r).default?D(g.$slots,"default",{key:1}):j("v-if",!0)]),_:3},16)):j("v-if",!0),g.$slots.trigger?D(g.$slots,"default",{key:2}):j("v-if",!0),D(g.$slots,"tip"),!s(m)&&g.showFileList?(b(),F(jt,{key:3,disabled:s(o),"list-type":g.listType,files:s(f),"handle-preview":g.onPreview,onRemove:s(u)},rt({_:2},[g.$slots.file?{name:"default",fn:A(({file:v})=>[D(g.$slots,"file",{file:v})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):j("v-if",!0)]))}});var yi=me(gi,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const vi=It(yi);var hi=!1;/*!
  * pinia v2.0.34
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let $n;const Oe=e=>$n=e,wn=Symbol();function Ne(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var pe;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(pe||(pe={}));function mi(){const e=Mt(!0),t=e.run(()=>he({}));let n=[],r=[];const o=Z({install(i){Oe(o),o._a=i,i.provide(wn,o),i.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(i){return!this._a&&!hi?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Sn=()=>{};function Et(e,t,n,r=Sn){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Bn()&&Nn(o),o}function ne(e,...t){e.slice().forEach(n=>{n(...t)})}function Ve(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Ne(o)&&Ne(r)&&e.hasOwnProperty(n)&&!Te(r)&&!xt(r)?e[n]=Ve(o,r):e[n]=r}return e}const bi=Symbol();function _i(e){return!Ne(e)||!e.hasOwnProperty(bi)}const{assign:W}=Object;function $i(e){return!!(Te(e)&&e.effect)}function wi(e,t,n,r){const{state:o,actions:i,getters:a}=t,l=n.state.value[e];let d;function f(){l||(n.state.value[e]=o?o():{});const y=Gn(n.state.value[e]);return W(y,i,Object.keys(a||{}).reduce((h,u)=>(h[u]=Z(I(()=>{Oe(n);const p=n._s.get(e);return a[u].call(p,p)})),h),{}))}return d=Tn(e,f,t,n,r,!0),d}function Tn(e,t,n={},r,o,i){let a;const l=W({actions:{}},n),d={deep:!0};let f,y,h=Z([]),u=Z([]),p;const c=r.state.value[e];!i&&!c&&(r.state.value[e]={}),he({});let m;function _($){let S;f=y=!1,typeof $=="function"?($(r.state.value[e]),S={type:pe.patchFunction,storeId:e,events:p}):(Ve(r.state.value[e],$),S={type:pe.patchObject,payload:$,storeId:e,events:p});const V=m=Symbol();Vn().then(()=>{m===V&&(f=!0)}),y=!0,ne(h,S,r.state.value[e])}const g=i?function(){const{state:S}=n,V=S?S():{};this.$patch(H=>{W(H,V)})}:Sn;function N(){a.stop(),h=[],u=[],r._s.delete(e)}function v($,S){return function(){Oe(r);const V=Array.from(arguments),H=[],K=[];function ue(q){H.push(q)}function J(q){K.push(q)}ne(u,{args:V,name:$,store:E,after:ue,onError:J});let fe;try{fe=S.apply(this&&this.$id===e?this:E,V)}catch(q){throw ne(K,q),q}return fe instanceof Promise?fe.then(q=>(ne(H,q),q)).catch(q=>(ne(K,q),Promise.reject(q))):(ne(H,fe),fe)}}const U={_p:r,$id:e,$onAction:Et.bind(null,u),$patch:_,$reset:g,$subscribe($,S={}){const V=Et(h,$,S.detached,()=>H()),H=a.run(()=>Ae(()=>r.state.value[e],K=>{(S.flush==="sync"?y:f)&&$({storeId:e,type:pe.direct,events:p},K)},W({},d,S)));return V},$dispose:N},E=Mn(U);r._s.set(e,E);const k=r._e.run(()=>(a=Mt(),a.run(()=>t())));for(const $ in k){const S=k[$];if(Te(S)&&!$i(S)||xt(S))i||(c&&_i(S)&&(Te(S)?S.value=c[$]:Ve(S,c[$])),r.state.value[e][$]=S);else if(typeof S=="function"){const V=v($,S);k[$]=V,l.actions[$]=S}}return W(E,k),W(xn(E),k),Object.defineProperty(E,"$state",{get:()=>r.state.value[e],set:$=>{_(S=>{W(S,$)})}}),r._p.forEach($=>{W(E,a.run(()=>$({store:E,app:r._a,pinia:r,options:l})))}),c&&i&&n.hydrate&&n.hydrate(E.$state,c),f=!0,y=!0,E}function Si(e,t,n){let r,o;const i=typeof t=="function";typeof e=="string"?(r=e,o=i?n:t):(o=e,r=e.id);function a(l,d){const f=qn();return l=l||f&&Dt(wn,null),l&&Oe(l),l=$n,l._s.has(r)||(i?Tn(r,t,o,l):wi(r,o,l)),l._s.get(r)}return a.$id=r,a}function Ti(e,t){const n=new XMLHttpRequest;n.open("GET",e),n.send(null),n.onreadystatechange=function(){n.readyState===4&&n.status===200&&t(n.responseText)}}const Pi={class:"ep-slider__wrapper"},ji={class:"ep-slider__label"},Ci=M({__name:"SliderField",props:{config:null},setup(e){const t=e,n=$e();function r(o){t.config.handler&&typeof t.config.handler=="function"&&t.config.handler(o),n.saveDescription({fields:[{key:t.config.key,value:t.config.value}]})}return(o,i)=>{const a=nr;return b(),O("div",Pi,[G("span",ji,se(e.config.label),1),R(a,{min:e.config.min,max:e.config.max,onChange:r,step:e.config.step,marks:e.config.marks,modelValue:e.config.value,"onUpdate:modelValue":i[0]||(i[0]=l=>e.config.value=l),"show-input":e.config.showInput},null,8,["min","max","step","marks","modelValue","show-input"])])}}}),Oi=M({__name:"SwitchField",props:{config:null},setup(e){const t=e,n=$e();function r(o){t.config.handler&&typeof t.config.handler=="function"&&t.config.handler(o),n.saveDescription({fields:[{key:t.config.key,value:t.config.value}]})}return(o,i)=>{const a=Gt;return b(),F(a,{modelValue:e.config.value,"onUpdate:modelValue":i[0]||(i[0]=l=>e.config.value=l),"active-text":e.config.label,onChange:r},null,8,["modelValue","active-text"])}}}),Ei={class:"ep-upload__wrapper"},ki={class:"ep-upload__label"},Ai=["src"],Fi=M({__name:"UploadField",props:{config:null},setup(e){const t=e,n=$e();function r(o){if(!o.type.toLowerCase().startsWith("image/"))return console.log("所选文件不是图片格式");const i=new FileReader;return i.readAsDataURL(o),i.onload=a=>{const l=a.target.result;if(!l)return console.log("背景图片为空");t.config.handler&&typeof t.config.handler=="function"&&t.config.handler(l),t.config.value=l,n.saveDescription({fields:[{key:t.config.key,value:t.config.value}]}),console.log("读取背景图片成功")},i.onerror=a=>console.error(`读取背景图片失败: ${a}`),!1}return(o,i)=>{const a=z,l=vi;return b(),O("div",Ei,[G("span",ki,se(e.config.label),1),R(l,{"on-error":()=>{},"on-success":()=>{},"show-file-list":!1,action:"#import-background-image","before-upload":r},{default:A(()=>[e.config.value?(b(),O("img",{key:0,src:e.config.value,alt:""},null,8,Ai)):(b(),F(a,{key:1},{default:A(()=>[R(s(rr))]),_:1}))]),_:1},8,["on-error","on-success"])])}}}),kt={SliderField:Z(Ci),SwitchField:Z(Oi),UploadField:Z(Fi)},{VITE_POPUP_ID:Ii,VITE_EMPTY_POPUP:Li}={VITE_EMPTY_POPUP:"true",VITE_POPUP_ID:""},$e=Si("popup-config",{state:()=>({empty:Li==="true",description:{...Ht,configId:Ii}}),actions:{saveDescription(e){const t=this.description.configId,n={[t]:{...this.description,...e,fields:[]}};(e.fields||[]).forEach(o=>{n[t][o.key]=o.value}),sr(JSON.parse(JSON.stringify(n))).then(()=>console.log("保存成功: ",n))},enableConfig(){this.empty=!1},mergeConfig(e){this.description.configId=e.id,Oa(this.description,e.description),(this.description.fields||[]).forEach(t=>{this.description.hasOwnProperty(t.key)&&(t.value=this.description[t.key]),kt.hasOwnProperty(t.type)&&(t.type=kt[t.type])})}}}),Ui={class:"popup-page-wrapper"},Ri=M({__name:"PopupConfig",setup(e){const t=$e();he({...Ht});function n(a,l=""){ar(l).then(d=>{t.mergeConfig({description:{...d[l],configId:l,configLabel:a}})})}function r(a){t.saveDescription({enable:a})}function o(a){t.saveDescription({injectCSS:a})}function i(a){t.saveDescription({injectScript:a})}return Hn(()=>{n(t.description.configLabel,t.description.configId)}),(a,l)=>{const d=Gt,f=or;return b(),O("div",Ui,[R(f,{class:"config-switch-card"},{default:A(()=>[R(d,{onChange:r,modelValue:s(t).description.enable,"onUpdate:modelValue":l[0]||(l[0]=y=>s(t).description.enable=y),"active-text":s(t).description.configLabel},null,8,["modelValue","active-text"]),s(t).description.enable?(b(),F(d,{key:0,"active-text":"注入预设样式",onChange:o,modelValue:s(t).description.injectCSS,"onUpdate:modelValue":l[1]||(l[1]=y=>s(t).description.injectCSS=y)},null,8,["modelValue"])):j("",!0),s(t).description.enable?(b(),F(d,{key:1,"active-text":"注入预设脚本",onChange:i,modelValue:s(t).description.injectScript,"onUpdate:modelValue":l[2]||(l[2]=y=>s(t).description.injectScript=y)},null,8,["modelValue"])):j("",!0)]),_:1}),s(t).description.enable&&s(t).description.fields.length?(b(),F(f,{key:0,class:"options-wrapper"},{default:A(()=>[(b(!0),O(Lt,null,Ut(s(t).description.fields,y=>(b(),F(Ft(y.type),{config:y,key:y.key},null,8,["config"]))),128))]),_:1})):j("",!0)])}}}),Di={key:0,class:"empty-content"},Mi=M({__name:"App",setup(e){const t=$e();return chrome.tabs&&chrome.tabs.query(ir).then(([n])=>{const r=lr.find(o=>o.expectUrl(n));r&&(t.enableConfig(),t.mergeConfig(r))}),Kn(()=>{Ti("https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1",n=>{const r=JSON.parse(n).images;document.body.style.backgroundImage=r.map(o=>`url('http://cn.bing.com${o.url}')`).join(",")})}),(n,r)=>{const o=Wn;return b(),F(o,{namespace:"ep"},{default:A(()=>[s(t).empty?(b(),O("h3",Di,"当前页面无可配置项")):(b(),F(Ri,{key:1}))]),_:1})}}});zn(Mi).use(mi()).mount("#app")});export default xi();
